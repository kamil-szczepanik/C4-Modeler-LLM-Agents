@startuml
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Component.puml
LAYOUT_WITH_LEGEND()

System_Boundary(catalog_service, "Catalog Service") {
    Component(api_controller, "API Controller", "Spring MVC Controller", "Handles incoming HTTP requests related to catalog operations, validates request data, and returns appropriate HTTP responses.")
    Component(service_layer, "Service Layer", "Spring Service", "Implements business logic for catalog operations and interacts with the repository layer.")
    Component(repository_layer, "Repository Layer", "Spring Data JPA", "Abstracts data access logic for PostgreSQL and Elasticsearch, providing methods for data retrieval and persistence.")
    Component(domain_model, "Domain Model", "Java Classes", "Defines the core data structures used within the service, representing catalog items and their attributes.")
    Component(search_indexing_component, "Search Indexing Component", "Spring Service", "Manages the indexing of catalog items in Elasticsearch and ensures the search index is updated.")
}

Rel(api_controller, service_layer, "Calls methods on", "HTTP")
Rel(service_layer, repository_layer, "Interacts with", "JPA")
Rel(service_layer, search_indexing_component, "Coordinates with", "Service")
Rel(repository_layer, domain_model, "Works with", "Java Classes")