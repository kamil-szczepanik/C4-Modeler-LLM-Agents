@startuml
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Component.puml
LAYOUT_WITH_LEGEND()

System_Boundary(catalog_service, "Catalog Service") {
    Component(db, "Database Component", "PostgreSQL", "Store relational data for users, items, transactions, and cataloguing information. Ensure data integrity and support complex queries for cataloguing and circulation management.")
    Component(search_index, "Search Index Component", "Elasticsearch", "Index catalogued items for fast search capabilities. Support full-text search and filtering based on various attributes.")
    Component(caching_layer, "Caching Layer", "Redis", "Cache frequently accessed data to reduce load on the PostgreSQL database. Store temporary data for quick retrieval.")
    Component(data_access_layer, "Data Access Layer", "Repository Pattern", "Abstract the data access logic for PostgreSQL and Elasticsearch. Provide a unified interface for the service layer.")
    Component(domain_model, "Domain Model", "N/A", "Represent the core entities of the system (e.g., User, Item, Transaction) and encapsulate business logic related to these entities.")
}

Rel(data_access_layer, db, "Interacts directly with", "SQL")
Rel(data_access_layer, search_index, "Interacts for search functionalities", "RESTful API")
Rel(data_access_layer, caching_layer, "Utilizes to store and retrieve frequently accessed data", "API")
Rel(domain_model, data_access_layer, "Maps domain models to database entities", "Method Calls")