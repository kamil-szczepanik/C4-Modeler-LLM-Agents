@startuml
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Component.puml
LAYOUT_WITH_LEGEND()

System_Boundary(search_index, "Search Index") {
    Component(searchController, "SearchController", "Spring MVC Controller", "Handle incoming search requests, validate parameters, and format responses.")
    Component(searchService, "SearchService", "Spring Service", "Coordinate search operations, implement business logic for filtering and sorting.")
    Component(searchRepository, "SearchRepository", "Spring Data Repository", "Interact with the Elasticsearch database for CRUD operations and manage indexing.")
    Component(catalogItem, "CatalogItem", "Data Model", "Represent the data model for items in the library catalog.")
    Component(searchIndexScheduler, "SearchIndexScheduler", "Scheduler", "Schedule and manage indexing tasks.")
}

Rel(searchController, searchService, "Interacts with")
Rel(searchService, searchRepository, "Communicates with")
Rel(searchRepository, "Elasticsearch", "Interacts with")
Rel(searchService, catalogItem, "Utilizes")
Rel(searchIndexScheduler, searchRepository, "Triggers indexing tasks in")