@startuml
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Component.puml
LAYOUT_WITH_LEGEND()

System_Boundary(TransactionManagementService, "Transaction Management Service") {
    Component(API_Controller, "API Controller", "Node.js, Express", "Handles incoming HTTP requests related to transactions, validates input data and returns appropriate HTTP responses.")
    Component(Transaction_Service, "Transaction Service", "Node.js, Express", "Contains business logic for managing transactions and coordinates between the API Controller and the Repository.")
    Component(Transaction_Repository, "Transaction Repository", "Node.js, Express", "Interacts with the database for CRUD operations on transaction data.")
    Component(Domain_Model, "Domain Model", "Node.js, Express", "Represents core entities and business rules related to transactions.")
    Component(Payment_Processor, "Payment Processor", "Node.js, Express", "Integrates with the Stripe Terminal SDK for payment processing.")
    Component(Receipt_Generator, "Receipt Generator", "Node.js, Express", "Generates receipts in specified formats and includes QR codes.")
    Component(Synchronization_Service, "Synchronization Service", "Node.js, Express", "Manages synchronization of buffered transactions with the central database.")
}

Rel(API_Controller, Transaction_Service, "Invokes")
Rel(Transaction_Service, Transaction_Repository, "Uses")
Rel(Transaction_Service, Domain_Model, "Interacts with")
Rel(Transaction_Service, Payment_Processor, "Calls for payment processing")
Rel(Transaction_Service, Receipt_Generator, "Requests receipt generation")
Rel(Transaction_Service, Synchronization_Service, "Coordinates with for transaction synchronization") 
@enduml