level: component
scope: "Component diagram for the API Gateway container"
parentContainer:
  name: "API Gateway"
elements:
  - type: "component"
    name: "API Controller"
    technology: "Node.js, Express"
    description: "Handle incoming HTTP requests, route requests, validate data, handle authentication/authorization."
  - type: "component"
    name: "Service Layer"
    technology: "Node.js, Express"
    description: "Encapsulate business logic, interact with the repository layer, coordinate between services."
  - type: "component"
    name: "TransactionService"
    technology: "Node.js, Express"
    description: "Manages scanning items, computing totals, applying promotions."
  - type: "component"
    name: "PaymentService"
    technology: "Node.js, Express"
    description: "Handles payment processing via Stripe Terminal."
  - type: "component"
    name: "ReceiptService"
    technology: "Node.js, Express"
    description: "Manages receipt generation and delivery."
  - type: "component"
    name: "Repository Layer"
    technology: "Node.js, Express"
    description: "Abstract data access logic, provide methods for CRUD operations."
  - type: "component"
    name: "TransactionRepository"
    technology: "Node.js, Express"
    description: "Handles transaction data."
  - type: "component"
    name: "PromotionRepository"
    technology: "Node.js, Express"
    description: "Manages promotion data."
  - type: "component"
    name: "ReceiptRepository"
    technology: "Node.js, Express"
    description: "Stores receipt data."
  - type: "component"
    name: "Domain Model"
    technology: "Node.js, Express"
    description: "Define core entities and relationships, represent business rules."
  - type: "component"
    name: "Transaction"
    technology: "Node.js, Express"
    description: "Represents a sale transaction."
  - type: "component"
    name: "Promotion"
    technology: "Node.js, Express"
    description: "Represents promotional offers."
  - type: "component"
    name: "Receipt"
    technology: "Node.js, Express"
    description: "Represents receipt details."
relationships:
  - source: "API Controller"
    destination: "Service Layer"
    description: "Interacts with"
  - source: "Service Layer"
    destination: "Repository Layer"
    description: "Communicates with"
  - source: "Service Layer"
    destination: "Domain Model"
    description: "Utilizes"