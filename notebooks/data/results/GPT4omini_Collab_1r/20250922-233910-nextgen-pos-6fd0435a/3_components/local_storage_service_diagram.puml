@startuml
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Component.puml
LAYOUT_WITH_LEGEND()

System_Boundary(local_storage_service, "Local Storage Service") {
    Component(LocalStorageController, "LocalStorageController", "Node.js, Express", "Handle incoming requests related to local storage operations.")
    Component(LocalStorageService, "LocalStorageService", "Node.js, Express", "Manage logic for buffering transactions and synchronizing with the central database.")
    Component(TransactionRepository, "TransactionRepository", "SQLite", "Interact with the local SQLite database for CRUD operations.")
    Component(TransactionModel, "TransactionModel", "JavaScript", "Define the structure of a transaction object.")
    Component(SynchronizationService, "SynchronizationService", "Node.js, Express", "Manage background synchronization with the central database.")
}

Rel(LocalStorageController, LocalStorageService, "Invokes", "HTTP")
Rel(LocalStorageService, TransactionRepository, "Uses for CRUD operations", "SQL")
Rel(LocalStorageService, TransactionModel, "Validates transaction data", "JavaScript")
Rel(SynchronizationService, LocalStorageService, "Coordinates synchronization tasks", "HTTP")