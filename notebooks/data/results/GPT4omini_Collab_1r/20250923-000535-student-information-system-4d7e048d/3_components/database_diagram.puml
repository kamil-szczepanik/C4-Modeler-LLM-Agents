@startuml
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Component.puml
LAYOUT_WITH_LEGEND()

System_Boundary(SIS, "Student Information System") {
    Component(SRRepo, "Student Record Repository", "Repository Pattern", "Store and manage student demographic and academic records, ensuring compliance with FERPA and GDPR.")
    Component(CERRepo, "Course Enrollment Repository", "Repository Pattern, Command Pattern", "Manage course enrollment and wait-listing functionalities.")
    Component(GMRepo, "Grade Management Repository", "Repository Pattern, Event Sourcing", "Store faculty-submitted grades and maintain change history.")
    Component(TGService, "Transcript Generation Service", "Service Layer Pattern", "Generate official transcripts in PDF format.")
    Component(ALRepo, "Audit Log Repository", "Repository Pattern, Singleton Pattern", "Maintain immutable logs of all changes made to grades and sensitive data.")
}

Rel(SRRepo, CERRepo, "Interacts for eligibility validation.")
Rel(GMRepo, SRRepo, "Communicates for grade submissions.")
Rel(TGService, SRRepo, "Relies on for student records.")
Rel(TGService, GMRepo, "Relies on for grade history.")
Rel(ALRepo, GMRepo, "Utilized for logging changes.")
@enduml