@startuml
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Component.puml
LAYOUT_WITH_LEGEND()

System_Boundary(enrollment_management_api, "Enrollment Management API") {
    Component(api_controller, "API Controller", "Flask or .NET Core", "Handle incoming HTTP requests related to enrollment management, validate request data, and return appropriate HTTP responses.")
    Component(service_layer, "Service Layer", "Business Logic Layer", "Implement business logic for enrollment management and coordinate between the API Controller and the Repository.")
    Component(repository_layer, "Repository Layer", "Data Access Layer", "Interact with the database to perform CRUD operations and ensure data integrity.")
    Component(domain_model, "Domain Model", "Entity Model", "Define the core entities and their relationships, encapsulating business rules within domain objects.")
    Component(audit_log_component, "Audit Log Component", "Logging Service", "Maintain immutable logs for all grade changes and enrollment actions, ensuring compliance with integrity requirements.")
}

Rel(api_controller, service_layer, "Calls methods on the Service Layer to process requests and return responses.")
Rel(service_layer, repository_layer, "Interacts with the Repository Layer to perform data operations, ensuring business logic is applied before data access.")
Rel(service_layer, domain_model, "Uses Domain Model entities to encapsulate data and business rules.")
Rel(repository_layer, domain_model, "Maps Domain Model entities to database tables and handles data persistence.")
Rel(audit_log_component, service_layer, "Invokes the Audit Log Component to record actions related to grade submissions and enrollment changes.")
@enduml