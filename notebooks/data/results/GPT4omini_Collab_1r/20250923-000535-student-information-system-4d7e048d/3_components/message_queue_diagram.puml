@startuml
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Component.puml
LAYOUT_WITH_LEGEND()

System_Boundary(MessageQueue, "Message Queue") {
    Component(MQService, "Message Queue Service", "Google Cloud Pub/Sub", "Manage the queuing of messages between different services, ensuring reliable message delivery and processing.")
    Component(ProducerComponents, "Producer Components", "Various", "Components that publish messages to the Message Queue Service.")
    Component(ConsumerComponents, "Consumer Components", "Various", "Components that consume messages from the Message Queue Service.")
    Component(AuditLogService, "Audit Log Service", "Custom Implementation", "Listens for specific messages related to grade changes and enrollment updates, maintaining immutable logs for compliance.")
}

Rel(ProducerComponents, MQService, "Each producer component publishes messages to the Message Queue Service.")
Rel(MQService, ConsumerComponents, "Routes messages to the appropriate consumer components based on message type.")
Rel(AuditLogService, MQService, "Subscribes to messages from the Message Queue Service to maintain compliance logs.")
@enduml