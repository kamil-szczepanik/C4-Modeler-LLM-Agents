@startuml
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Component.puml
LAYOUT_WITH_LEGEND()

System_Boundary(backend_api, "Backend API") {
    Component(product_repository, "Product Repository", "MongoDB", "Interact with the Products Collection in MongoDB, provide methods for CRUD operations, implement search functionality.")
    Component(user_repository, "User Repository", "MongoDB", "Manage interactions with the Users Collection in MongoDB, handle user authentication and profile management.")
    Component(review_repository, "Review Repository", "MongoDB", "Interact with the Reviews Collection in MongoDB, manage user-generated reviews and ratings for products.")
    Component(product_service, "Product Service", "Node.js", "Business logic for product management, including recommendations.")
    Component(user_service, "User Service", "Node.js", "Business logic for user management and authentication.")
    Component(review_service, "Review Service", "Node.js", "Business logic for managing reviews and ratings.")
}

Rel(product_service, product_repository, "Interacts with")
Rel(user_service, user_repository, "Interacts with")
Rel(review_service, review_repository, "Interacts with")
Rel(product_service, review_service, "May call for reviews")
Rel(user_service, product_service, "May call for recommendations")