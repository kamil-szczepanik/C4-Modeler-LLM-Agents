@startuml
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Component.puml
LAYOUT_WITH_LEGEND()

System_Boundary(thirdPartyShippingAPIIntegration, "Third-Party Shipping API Integration") {
    Component(apiController, "API Controller", "Express.js", "Handle incoming HTTP requests related to shipping, validate request data, and route requests to the appropriate service methods.")
    Component(shippingService, "Shipping Service", "Node.js Service", "Orchestrate the business logic for shipping operations and interact with the third-party shipping API.")
    Component(shippingRepository, "Shipping Repository", "MongoDB Repository", "Manage data persistence related to shipping information and store shipment records.")
    Component(domainModel, "Domain Model", "JavaScript Objects", "Define the data structures used within the shipping context, representing entities like Shipment and ShippingProvider.")
    Component(thirdPartyShippingAPIClient, "Third-Party Shipping API Client", "HTTP Client", "Encapsulate the logic for making HTTP requests to the third-party shipping API and handle authentication.")
}

Rel(apiController, shippingService, "Invokes", "HTTP")
Rel(shippingService, shippingRepository, "Uses", "Database")
Rel(shippingService, thirdPartyShippingAPIClient, "Communicates with", "HTTP")
Rel(shippingRepository, domainModel, "Interacts with", "Data Structure")
Rel(domainModel, shippingService, "Serves as the data structure for", "JavaScript Objects")