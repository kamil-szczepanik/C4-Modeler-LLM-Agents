@startuml
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Component.puml
LAYOUT_WITH_LEGEND()

System_Boundary(auth_service, "Authentication Service") {
    Component(api_controller, "API Controller", "Spring MVC Controller", "Handle incoming HTTP requests related to authentication (login, logout, token refresh) and validate input data.")
    Component(authentication_service, "Authentication Service", "Spring Boot", "Implement core authentication logic, including user validation and token generation, and integrate with external identity providers for MFA.")
    Component(user_repository, "User Repository", "Spring Data JPA", "Interact with the database to perform CRUD operations on user data and retrieve user roles and permissions.")
    Component(token_management, "Token Management", "Spring Boot", "Handle creation, validation, and expiration of authentication tokens and manage refresh tokens.")
    Component(security_configuration, "Security Configuration", "Spring Security", "Configure security settings, including encryption and access control, and define security filters for incoming requests.")
}

Rel(api_controller, authentication_service, "Interacts with")
Rel(authentication_service, user_repository, "Relies on")
Rel(authentication_service, token_management, "Utilizes")
Rel(security_configuration, api_controller, "Applies security measures to")