@startuml
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Component.puml
LAYOUT_WITH_LEGEND()

System_Boundary(billing_microservice, "Billing Microservice") {
    Component(api_controller, "API Controller", "Spring Boot", "Handles HTTP requests related to billing operations. Interfaces include methods for creating invoices, processing payments, and submitting claims.")
    Component(service_layer, "Service Layer", "Spring Boot", "Implements business logic for billing operations. Coordinates between the API controller and the repository layer.")
    Component(repository_layer, "Repository Layer", "Spring Boot", "Interacts with the database for CRUD operations on billing-related data.")
    Component(domain_model, "Domain Model", "Spring Boot", "Defines core entities (Invoice, Payment, Claim) and their relationships.")
    Component(integration_layer, "Integration Layer", "Spring Boot", "Handles communication with external systems (insurance providers, payment gateways).")
}

Rel(api_controller, service_layer, "Invokes", "HTTP")
Rel(service_layer, repository_layer, "Uses", "CRUD operations")
Rel(service_layer, domain_model, "Interacts with", "Business logic")
Rel(service_layer, integration_layer, "Communicates with", "External systems")