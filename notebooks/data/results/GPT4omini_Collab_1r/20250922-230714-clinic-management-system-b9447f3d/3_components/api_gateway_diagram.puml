@startuml
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Component.puml
LAYOUT_WITH_LEGEND()

System_Boundary(api_gateway, "API Gateway") {
    Component(api_gateway, "API Gateway", "Kong or AWS API Gateway", "Acts as a single entry point for all client requests to the microservices, handles cross-cutting concerns such as authentication, logging, and rate limiting.")
    Component(auth_service, "Authentication Service", "Spring Boot, JWT", "Manages user authentication and authorization, implements multi-factor authentication (MFA).")
    Component(logging_service, "Logging Service", "ELK Stack", "Collects and aggregates logs from the API Gateway and microservices.")
    Component(rate_limiting_service, "Rate Limiting Service", "Custom service", "Controls the number of requests a client can make to the API Gateway within a specified time frame.")
    Component(monitoring_service, "Monitoring Service", "Prometheus, Grafana", "Monitors the performance and health of the API Gateway and microservices.")
}

Rel(api_gateway, auth_service, "Delegates authentication to", "HTTPS")
Rel(api_gateway, logging_service, "Sends logs to", "HTTPS")
Rel(api_gateway, rate_limiting_service, "Uses", "HTTP")
Rel(api_gateway, monitoring_service, "Sends performance metrics to", "HTTP")