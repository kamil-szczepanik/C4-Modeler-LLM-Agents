@startuml
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Component.puml
LAYOUT_WITH_LEGEND()

System_Boundary(MessageQueue, "Message Queue") {
    Component(MessageProducer, "Message Producer", "Node.js or Java", "Publish messages to the queue when events occur (e.g., patient registration, appointment scheduling).")
    Component(MessageConsumer, "Message Consumer", "Node.js or Java", "Subscribe to the message queue and process incoming messages.")
    Component(MessageQueueManager, "Message Queue Manager", "Node.js or Java", "Manage the lifecycle of the message queue (creation, deletion, monitoring).")
    Component(MessageSchemaValidator, "Message Schema Validator", "Node.js or Java", "Validate the structure and content of messages before they are sent to the queue.")
    Component(ErrorHandlingAndLogging, "Error Handling and Logging", "Node.js or Java", "Capture and log errors during message processing.")
}

Rel(MessageProducer, MessageQueueManager, "Interacts with to publish messages.")
Rel(MessageConsumer, MessageQueue, "Subscribes to and processes messages as they arrive.")
Rel(MessageQueueManager, MessageProducer, "Oversees.")
Rel(MessageQueueManager, MessageConsumer, "Oversees.")
Rel(MessageSchemaValidator, MessageProducer, "Utilized by to ensure messages are valid before sending.")
Rel(ErrorHandlingAndLogging, MessageProducer, "Integrated with to capture and manage errors.")
Rel(ErrorHandlingAndLogging, MessageConsumer, "Integrated with to capture and manage errors.")